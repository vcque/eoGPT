<idea-plugin>
    <id>com.vcque.prompto</id>
    <name>Prompto</name>
    <vendor email="vocquet.ocquet@gmail.com" url="https://github.com/vcque">Vincent Ocquet</vendor>

    <description><![CDATA[
      <h1>A coding assistant based on ChatGPT.</h1>
      <br>
      <p>
        The core concept of Prompto is to capture your IDE state in order to contextualize queries you send to ChatGPT. <br>
        This allows the generated responses to be fine-tuned to your use-case, building on the code present in your project. <br>
        Prompto has been mainly used and tested on Java projects but can also work on other languages in a limited way.
      </p>
      <br>
      <p>
        <strong>be mindful of potential issues with private or sensitive data</strong>. Each action lists what type of data it sends to the LLM.
      </p>
      <br>
      <p>
        To use it, fill in your API key in Prompto settings and press Alt-Enter in the editor to be presented with prompto actions.
      </p>
      <br>
      <h2>Prompto clipboard</h2>
      <p>
        Use this action to save your IDE state to you clipboard so that you can use it on the ChatGPT webapp. <br>
        It also allows you to inspect what that is being captured by Prompto. <br>
        <strong>This action does not need an API key.</strong>
      </p>
      <h2>Prompto implement</h2>
      <p>
        Use this action on an existing method to implement or modify it. <br>
        Prompto will use the relevant type definitions of your project to build an optimal implementation. <br>
        This is best used on code like converter methods, test cases or usage of external (and well-known) libraries. <br>
        This is a Java only feature.
      </p>
      <h2>Prompto ask</h2>
      <p>
        Use this action to ask a quick question about the code. <br>
        This is more for flavor but can be sometimes useful. <br>
        You can also ask Prompto how it's going, I guess it's a feature ¯\_(ツ)_/¯
      </p>
      <h2>Prompto sql - Intellij Ultimate only</h2>
      <p>
        In a database console, ask Prompto to generate a SQL script. <br>
        Prompto will have access to your database schema to generate a relevant SQL query. <br>
        Note that this feature currently only works for small databases. (~40 tables max)
      </p>
      <br>
      <p>Feedback is welcome at <a href="https://github.com/vcque/prompto">https://github.com/vcque/prompto</a>. Have fun!</p>
    ]]></description>

    <change-notes><![CDATA[
        <h2>New Features</h2>
        <ul>
          <li>Allow to choose between gpt-3.5-turbo and gpt-4 models</li>
          <li>Rename `rewrite method` action to `implement`</li>
          <li>Add an SQL script action</li>
        </ul>
        <h2>Bug Fixes</h2>
        <ul>
          <li>Better prompt for the implement action</li>
        </ul>
    ]]></change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends optional="true" config-file="ultimate.xml">com.intellij.database</depends>
    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable parentId="tools" instance="com.vcque.prompto.settings.PromptoSettingsConfigurable"
                                 id="com.vcque.prompto.settings.PromptoSettingsConfigurable"
                                 displayName="Prompto Settings"/>
        <applicationService serviceImplementation="com.vcque.prompto.settings.PromptoSettingsState"/>
        <notificationGroup id="Prompto"
                           displayType="BALLOON"
        />
        <intentionAction>
            <className>com.vcque.prompto.actions.PromptoClipboardAction</className>
            <category>Prompto</category>
        </intentionAction>
        <intentionAction>
            <className>com.vcque.prompto.actions.PromptoImplementAction</className>
            <category>Prompto</category>
            <language>JAVA</language>
        </intentionAction>
        <intentionAction>
            <className>com.vcque.prompto.actions.PromptoAskAction</className>
            <category>Prompto</category>
        </intentionAction>
    </extensions>
</idea-plugin>